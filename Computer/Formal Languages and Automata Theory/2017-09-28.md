## 2017-09-28

- A __nondeterministic finite state automaton (NFA)__ $A = \langle \Sigma, Q, q_0, F, \delta \rangle$, where $\delta$ can be expressed as: (1) _Transition relation_: $\delta\subseteq Q \times \Sigma \times Q$; (2) _Transition function_: $\delta: Q \times \Sigma \to 2^Q$.
- __Theorem__: If $A$ is a DFA, and $A$ is also an NFA.
- Example of NFA: $A = \langle \Sigma, Q, q_0, F, \delta \rangle$, where $\Sigma = \{a,b\}, Q = \{q_0,q_1,q_2\}, q_0, F = \{q_2\},$ $\delta = \{(q_0,a,q_0),(q_0,b,q_0),(q_1,a,q_1),(q_1,b,q_1),(q_2,a,q_2),(q_2,b,q_2),(q_0,a,q_1),(q_1,b,q_2)\}$
- On input word $w$, a run of $A$ on $w$ is $p_0,a_1,p_1,a_2,p_2,...,a_n,p_n$ s.t. $(p_{i-1},a_i,p_i) \in \delta$.
- A run is an accepting run if it ends with a final state, i.e. $p_n \in F$.
- An NFA $A$ accepts $w$ if there is an accepting run of $A$ on $w$.
- __Theorem__: For every NFA $A$, there is an NFA $A'$ s.t. $A'$ will never get stuck, and $L(A)=L(A')$. How? Introduce an error state s.t. for every state, there is at least one transition for all alphabets.
- __Theorem__: NFA languages are closed under complement, $\cap$ (intersection) and $\cup$ (union).
- __Theorem__: For every NFA $A$, there is a DFA $A'$ s.t. $L(A) = L(A')$.
    - Let an NFA $A = \langle \Sigma, Q, q_0, F, \delta \rangle$ and a DFA $A' = \langle \Sigma, Q', q_0', F', \delta' \rangle$ represents the same language $L$. Then, $Q' = 2^Q, q_0' = \{q_0\}, F' = \{X\in Q'|X \cap F \ne \emptyset \}, \delta':Q'\times\Sigma\to Q'$ is defined for $X\in Q', a\in\Sigma$, let $\delta'(X,a)=\{q\ |\ \exists p \in X \text{ s.t. } (p,a,q) \in \delta \}$ or $\delta'(X,a)=\bigcup_{x\in X}\delta(x,a)$.
    - Both $L(A) \subseteq L(A')$ and $L(A') \subseteq L(A)$ should hold.
- __Lemma__: $L(A) \subseteq L(A')$ proved by induction
    - _Hypothesis_: For every accepting run of $A$ on $w$: $p_0,a_1,p_1,a_2,p_2,...,a_n,p_n$ s.t. $p_n \in F$, there is an accepting run of $A'$ on $w$: $X_0,a_1,X_1,a_2,X_2,...,a_n,X_n$ s.t. $X_i \ni p_i$ for $i = 1,2,...,n$, and $X_n \in F'$.
    - _Basis_: $|w| = 0$, i.e. $w=\epsilon$. The run of $A$ on $w$ is $q_0 \in F$, and the run of $A'$ on $w$ is $\{q_0\} \in F'$.
    - _Induction_: Consider $w=a_1a_2...a_na_{n+1}$. An accepting run of $A$ on $w$ is $p_0,a_1,p_1,a_2,p_2,...,a_n,p_n,a_{n+1},p_{n+1}$, s.t. $p_{n+1}\in F$ and $(p_n,a_{n+1},p_{n+1}) \in \delta$. Then, the run of $A'$ on $w$ is $X_0,a_1,X_1,a_2,X_2,...,a_n,X_n,a_{n+1},X_{n+1}$. $X_n \ni p_n$ and $(p_n,a_{n+1},p_{n+1})\in\delta$ implies $X_{n+1} \ni p_{n+1}$. $p_{n+1}\in F$ and $X_{n+1} \ni p_{n+1}$ implies $X_{n+1}\cap F\ne\emptyset$, i.e. $X_{n+1}\in F'$.
- __Lemma__: $L(A') \subseteq L(A)$ proved by induction
    - _Hypothesis_: For the accepting run of $A'$ on $w$: $X_0,a_1,X_1,a_2,X_2,...,a_n,X_n$ s.t. $X_n \in F'$, there is an accepting run of $A$ on $w$: $p_0,a_1,p_1,a_2,p_2,...,a_n,p_n$ s.t. $p_i \in X_i$ for $i = 1,2,...,n$, and $p_n \in F$.
    - _Basis_.
    - _Induction_.
- Every NFA language is also regular.
- $\epsilon$-NFA: $A = \langle \Sigma, Q, q_0, F, \delta \rangle$, where $\delta \subseteq Q \times (\Sigma\cup\{\epsilon\}) \times Q$.
- __Theorem__: For every $\epsilon$-NFA, there is an NFA $A'$ s.t. $L(A) = L(A')$
